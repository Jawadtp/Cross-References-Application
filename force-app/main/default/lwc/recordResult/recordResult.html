<template>
    <div class="recordInput slds-m-top_x-large">
        <lightning-input type="text" onchange={handleInputChange} value={inputText} placeholder="Enter record id.." variant="label-hidden" class="slds-m-around_small"></lightning-input>
    </div>


    <lightning-button variant="brand" label="Submit" title="Primary action" onclick={onSubmitClick} class="slds-m-around_small"></lightning-button>
   
    <template if:true={showSpinner}>
        <lightning-spinner alternative-text="Fetching records.."></lightning-spinner>
    </template>


    <div class="dataWrapper">
        <template if:true={isDataFetched}>

            <div class="recordResultOuterWrapper">
                <div class="currentRecordTitle">
                <div class="enteredRecordText"> Entered record </div>
                </div>
                <div class="currentRecordCard">
                    <div class="exitButton" onclick={onClearResultClick}>
                        X
                    </div>
                    <div class="nameField">
                        {currentRecordDetails.NameField}
                    </div>
                    <div class="recordName slds-text-title_bold slds-text-heading_large">
                        {currentRecordDetails.Name} 
                    </div>
                </div>
            </div>

            <div class="recordResultWrapper parentRecords">
                <h1 class="slds-text-title_bold">Parent records </h1>
                <c-records-display record-id={inputText} onfetchrelatedrecords={fetchClickedRecord} entity-list={parents}></c-records-display>
            </div>

            <div class="recordResultWrapper childRecords">
                <h1 class="slds-text-title_bold">Child records </h1>
                <c-records-display record-id={inputText} onfetchrelatedrecords={fetchClickedRecord} entity-list={children}></c-records-display>              
            </div>

        </template>
    </div>

</template>