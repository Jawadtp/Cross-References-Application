<template>
    <template if:true={isRelatedRecordsEmpty}>
        * No related records found.
    </template>

    <template if:true={showSearchRecords}>
        <lightning-input type="text" onchange={handleSearchInputChange} value={inputText} placeholder="Enter record name to search.." variant="label-hidden" class="slds-m-around_small"></lightning-input>
    </template>


    <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>

        <template for:each={relatedRecordsActive} for:item="relatedRecord">
            
            <lightning-accordion-section key={relatedRecord.Name} name={relatedRecord.Name} label={relatedRecord.AccordionDisplayName}>

                <!-- <div class="objectMetaData slds-text-title_bold">
                    <span class="childName">{relatedRecord.Name}</span> 
                    <span class="relationshipType"> ({relatedRecord.RelationshipType})</span>
                </div>  -->
                
                <template for:each={relatedRecord.Records} for:item="record">
                    <div class="record" key={record.Id}  data-item={record.Id} onclick={onRecordClick}>
                        <div class="nameField">
                            {relatedRecord.NameField}
                        </div>
                        <div class="recordName slds-text-title_bold slds-text-heading_large">
                            {record.Name} 
                        </div>
                    </div>
                </template>

            </lightning-accordion-section>

        
        </template>

        <template for:each={relatedRecords} for:item="relatedRecord">
            </template>
    </lightning-accordion>

</template>